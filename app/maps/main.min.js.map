{"version":3,"names":[],"mappings":"","sources":["main.js"],"sourcesContent":["let reg = document.querySelector('#admin');\nconsole.log(reg);\n\nreg.onsubmit = e => {\n  e.preventDefault(); //console.log(e.target);\n\n  let formData = new FormData(reg);\n  document.querySelector('.input-admin').value = '';\n  document.querySelector('.input-adminn').value = '';\n  console.log([formData.get('login'), formData.get('pass')]);\n  fetch('../registre.php', {\n    method: \"POST\",\n    body: formData\n  }).then(response => response.text()).then(result => {\n    console.log(result);\n\n    switch (result) {\n      case \"admin\":\n        window.location.href = \"admin/index.php\";\n        break;\n\n      case \"Такой пользователь уже зарегистрирован\":\n        window.location.href = \"lk.php\";\n        break;\n\n      case \"ok\":\n        window.location.href = \"lk.php\";\n        break;\n\n      case \"Не удалось добавить пользователя\":\n        alert(\"Не удалось добавить пользователя\");\n        break;\n\n      case \"Не все поля заполнены !!!\":\n        alert(\"Не все поля заполнены !!!\");\n        break;\n\n      default:\n        alert(\"Что то пошло не так...\");\n    }\n  });\n};\n/*     if (result == \"admin\") {\r\n        alert(\"Вход админом\");\r\n        window.location.href = \"admin/index.php\";\r\n      } else {\r\n      alert(\"ошибка админа\");\r\n    } \r\n    if (result == \"ok\" && result == \"Такой пользователь уже зарегистрирован\") {\r\n      alert(\"Пользователь уже зарегистрирован\");\r\n      window.location.href = \"lk.php\";\r\n    } else {\r\n    alert(\"Регистрация прошла успешно\");\r\n    window.location.href = \"lk.php\";\r\n    } */\n//   window.location.href = \"admin/data.php\";\n\n/*\r\n$('#exampleModal').on('hiden.bs.modal', function (event) {\r\n  let button = $(event.relatedTarget) // Button that triggered the modal\r\n  //let recipient = button.data('whatever') \r\n  // If necessary, you could initiate an AJAX request here (and then do the updating in a callback).\r\n  // Update the modal's content. We'll use jQuery here, but you could use a data binding library or other methods instead.\r\n  let modal = $(this);\r\n  //modal.find('.modal-title').text('New message  to ' + recipient);\r\n  //modal.find('.modal-body input').val(recipient);\r\n  let title = document.querySelector(this.modal-title);\r\n  title.innerHTML = \"ВХОД В Личный кабинет\";\r\n  document.querySelector('.input-admin').value = '';\r\n  document.querySelector('.input-adminn').value = '';\r\n\r\n\r\n\r\n})*/\n\n\n$(function () {\n  $('.carousel').carousel({\n    interval: 1500\n  });\n});\nlet forma = document.querySelector('#post');\n\nforma.onsubmit = function (event) {\n  event.preventDefault();\n  console.log(e.target);\n  let formDataa = new FormData(forma);\n  document.querySelector('.input-request').value = '';\n  document.querySelector('.input-requestt').value = '';\n  document.querySelector('.input-requesttt').value = '';\n  fetch('lib_query/clients_obr.php', {\n    method: 'POST',\n    body: formDataa // mode: 'no-cors', // same-origin, no-cors\n\n  }).then(response => response.text()) //.then(result => {console.log(result)});\n  .then(result => console.log(result));\n};\n/* $(document).ready(function() {\r\nalert(jQuery.fn.jquery);\r\n});  \r\n */\n\n\n$('.put-basket').click(function () {\n  let tid = $(this).attr(\"tid\");\n  console.log(tid);\n  $.ajax({\n    type: \"POST\",\n    url: \"../../lib_query/addtocart.php\",\n    data: \"id=\" + tid,\n    dataType: \"html\",\n    cache: false,\n    success: function (data) {\n      loadcart();\n    }\n  });\n});\n$('.delete-basket').click(function () {\n  //let tid = $(this).attr(\"tid\");\n  //console.log(tid);\n  $.ajax({\n    type: \"POST\",\n    url: \"../../lib_query/deletecart.php\",\n    //data: \"id=\"+tid,\n    dataType: \"html\",\n    cache: false,\n    success: function (data) {\n      loadcart();\n    }\n  });\n});\n$('.count-minus').click(function () {\n  let iid = $(this).attr(\"iid\");\n  console.log(iid);\n  $.ajax({\n    type: \"POST\",\n    url: \"../../lib_query/count-minus.php\",\n    data: \"id=\" + iid,\n    dataType: \"html\",\n    cache: false,\n    success: function (data) {\n      $('#input-id' + iid).html(data);\n      loadcart();\n    }\n  });\n});\n$('.count-plus').click(function () {\n  let iid = $(this).attr(\"iid\");\n  console.log(iid);\n  $.ajax({\n    type: \"POST\",\n    url: \"../../lib_query/count-plus.php\",\n    data: \"id=\" + iid,\n    dataType: \"html\",\n    cache: false,\n    success: function (data) {\n      $('#input-id' + iid).html(data);\n      loadcart();\n    }\n  });\n});\n$(document).ready(function () {\n  loadcart();\n});\n$('.block-basket').click(function () {\n  loadcart();\n}); // загрузка в  корзину\n\nfunction loadcart() {\n  $.ajax({\n    type: \"POST\",\n    url: \"../../lib_query/loadcart.php\",\n    dataType: \"html\",\n    cache: false,\n    success: function (data) {\n      if (data == \"корзина пуста\") {\n        $(\".block-basket\").html(\"Корзина пуста\");\n      } else {\n        $(\".block-basket\").html(data);\n      }\n    }\n  });\n}\n//# sourceMappingURL=../maps/main.js.map\n"],"file":"../js/main.min.js"}